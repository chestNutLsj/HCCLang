<svg width="1000" height="600" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
    <!-- 定义样式和箭头 -->
    <defs>
        <style>
            .box {
                fill: #ffffff;
                stroke: #4b5563;
                stroke-width: 1.5;
                rx: 8; /* 圆角 */
                ry: 8;
            }
            .title-text {
                font-family: 'Inter', sans-serif, system-ui;
                font-size: 16px;
                font-weight: 500;
                fill: #1f2937;
                text-anchor: middle;
            }
            .subtitle-text {
                font-family: 'Inter', sans-serif, system-ui;
                font-size: 13px;
                fill: #6b7280;
                text-anchor: middle;
            }
            .arrow-line {
                stroke: #374151;
                stroke-width: 2;
            }
        </style>
        <!-- 箭头定义 -->
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#374151" />
        </marker>
    </defs>

    <!-- 流程图元素 -->

    <!-- 第一行 -->
    <!-- Box 1: HCCLang DSL -->
    <g transform="translate(50, 50)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">HCCLang DSL</text>
        <text x="90" y="60" class="subtitle-text">(Python语法)</text>
    </g>

    <!-- Box 2: Algorithm IR -->
    <g transform="translate(280, 50)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">Algorithm IR</text>
        <text x="90" y="60" class="subtitle-text">(中间表示)</text>
    </g>

    <!-- Box 3: JSON输出 -->
    <g transform="translate(510, 50)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">JSON输出</text>
        <text x="90" y="60" class="subtitle-text">(算法描述)</text>
    </g>

    <!-- Box 4: HCCL运行时 -->
    <g transform="translate(740, 50)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">HCCL运行时</text>
        <text x="90" y="60" class="subtitle-text">(C++执行)</text>
    </g>

    <!-- 中间行 -->
    <!-- Box 5: 优化流水线 -->
    <g transform="translate(280, 230)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">优化流水线</text>
        <text x="90" y="60" class="subtitle-text">(组合/变换/分析)</text>
    </g>

    <!-- 第三行 -->
    <!-- Box 6: 拓扑定义 -->
    <g transform="translate(50, 410)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">拓扑定义</text>
        <text x="90" y="60" class="subtitle-text">(硬件感知建模)</text>
    </g>

    <!-- Box 7: 验证工具 -->
    <g transform="translate(510, 410)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">验证工具</text>
        <text x="90" y="60" class="subtitle-text">(正确性检查)</text>
    </g>

    <!-- Box 8: 性能分析 -->
    <g transform="translate(740, 410)">
        <rect class="box" width="180" height="80"></rect>
        <text x="90" y="35" class="title-text">性能分析</text>
        <text x="90" y="60" class="subtitle-text">(带宽/延迟)</text>
    </g>

    <!-- 连接线 -->
    <!-- 横向连接线 -->
    <line class="arrow-line" x1="230" y1="90" x2="270" y2="90" marker-end="url(#arrowhead)"></line>
    <line class="arrow-line" x1="460" y1="90" x2="500" y2="90" marker-end="url(#arrowhead)"></line>
    <line class="arrow-line" x1="690" y1="90" x2="730" y2="90" marker-end="url(#arrowhead)"></line>

    <!-- 纵向连接线 -->
    <!-- 1 -> 6 -->
    <line class="arrow-line" x1="140" y1="130" x2="140" y2="400" marker-end="url(#arrowhead)"></line>
    <!-- 2 -> 5 -->
    <line class="arrow-line" x1="370" y1="130" x2="370" y2="220" marker-end="url(#arrowhead)"></line>
    <!-- 3 -> 7 -->
    <line class="arrow-line" x1="600" y1="130" x2="600" y2="400" marker-end="url(#arrowhead)"></line>
    <!-- 4 -> 8 -->
    <line class="arrow-line" x1="830" y1="130" x2="830" y2="400" marker-end="url(#arrowhead)"></line>
</svg>
